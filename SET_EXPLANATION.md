# –ú–Ω–æ–∂–µ—Å—Ç–≤–∞ (Set) –≤ Redis - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ

## –ß—Ç–æ —Ç–∞–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤ Redis?

**–ú–Ω–æ–∂–µ—Å—Ç–≤–æ (Set)** - —ç—Ç–æ –Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–æ–∫ –≤ Redis. –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–æ–∂–µ—Ç –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–∞–∫ Set –≤ JavaScript –∏–ª–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ:
- –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã (–¥—É–±–ª–∏–∫–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è)
- –ü–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–∞ (O(1))
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–¥ –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏ (–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ, –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ, —Ä–∞–∑–Ω–æ—Å—Ç—å)

## –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–Ω–æ–∂–µ—Å—Ç–≤

1. **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
2. **–ù–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å** - –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω
3. **–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –∑–∞ O(1)
4. **–û–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏** - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ, –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ, —Ä–∞–∑–Ω–æ—Å—Ç—å

## –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

```
–ú–Ω–æ–∂–µ—Å—Ç–≤–æ: tags
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  "red"  ‚îÇ
‚îÇ  "blue" ‚îÇ
‚îÇ "green" ‚îÇ
‚îÇ "black" ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
(–ø–æ—Ä—è–¥–æ–∫ –Ω–µ –≤–∞–∂–µ–Ω, –¥—É–±–ª–∏–∫–∞—Ç—ã –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã)
```

## –ê–Ω–∞–ª–æ–≥–∏—è: –ú–µ—à–æ–∫ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–∞–∫ –º–µ—à–æ–∫ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏:
- –ö–∞–∂–¥—ã–π –ø—Ä–µ–¥–º–µ—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
- –ü–æ—Ä—è–¥–æ–∫ –Ω–µ –≤–∞–∂–µ–Ω
- –ú–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –ø—Ä–µ–¥–º–µ—Ç –≤ –º–µ—à–∫–µ
- –ú–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –º–µ—à–∫–∏, –Ω–∞—Ö–æ–¥–∏—Ç—å –æ–±—â–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∏ —Ç.–¥.

## –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏

### 1. SADD - –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–æ

```typescript
await redis.sadd('tags', 'red', 'blue', 'green');
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –≠–ª–µ–º–µ–Ω—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–æ
- –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–Ω –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è (–Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ)
- –ï—Å–ª–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–Ω–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∑–∞ —Ä–∞–∑
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–≤—à–∏—Ö —Ä–∞–Ω–µ–µ)

**–ü—Ä–∏–º–µ—Ä:**
```typescript
// –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
const added1 = await redis.sadd('tags', 'red', 'blue');
console.log(added1); // 2 (–æ–±–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–æ–≤—ã–µ)

// –ü—ã—Ç–∞–µ–º—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Å–Ω–æ–≤–∞ (red —É–∂–µ –µ—Å—Ç—å)
const added2 = await redis.sadd('tags', 'red', 'green');
console.log(added2); // 1 (—Ç–æ–ª—å–∫–æ green –±—ã–ª –Ω–æ–≤—ã–º, red –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω)

// –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–µ–ø–µ—Ä—å: {'red', 'blue', 'green'}
```

**–í–∏–∑—É–∞–ª—å–Ω–æ:**
```
–î–æ:     {}
        ‚Üì SADD('red', 'blue')
–ü–æ—Å–ª–µ:  {'red', 'blue'}

        ‚Üì SADD('red', 'green')  (red —É–∂–µ –µ—Å—Ç—å)
–ü–æ—Å–ª–µ:  {'red', 'blue', 'green'}  (red –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω)
```

### 2. SMEMBERS - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–Ω–æ–∂–µ—Å—Ç–≤–∞

```typescript
const tags = await redis.smembers('tags');
// –í–µ—Ä–Ω–µ—Ç: ['red', 'blue', 'green'] (–ø–æ—Ä—è–¥–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º)
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –í–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–Ω–æ–∂–µ—Å—Ç–≤–∞
- –ü–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- –ï—Å–ª–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤

**–ü—Ä–∏–º–µ—Ä:**
```typescript
await redis.sadd('tags', 'red', 'blue', 'green');
const allTags = await redis.smembers('tags');
console.log(allTags); // ['blue', 'green', 'red'] (–ø–æ—Ä—è–¥–æ–∫ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è)
```

**–í–∞–∂–Ω–æ:** –ü–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ!

### 3. SREM - –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞

```typescript
const removed = await redis.srem('tags', 'red', 'blue');
// –£–¥–∞–ª–∏—Ç 'red' –∏ 'blue' –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –£–¥–∞–ª—è–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞
- –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–Ω –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
- –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∑–∞ —Ä–∞–∑
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**–ü—Ä–∏–º–µ—Ä:**
```typescript
// –ú–Ω–æ–∂–µ—Å—Ç–≤–æ: {'red', 'blue', 'green'}
const removed1 = await redis.srem('tags', 'red', 'yellow');
console.log(removed1); // 1 (—É–¥–∞–ª–µ–Ω —Ç–æ–ª—å–∫–æ red, yellow –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª)
// –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ—Å–ª–µ: {'blue', 'green'}
```

**–í–∏–∑—É–∞–ª—å–Ω–æ:**
```
–î–æ:     {'red', 'blue', 'green'}
        ‚Üì SREM('red', 'yellow')
–ü–æ—Å–ª–µ:  {'blue', 'green'}
        ‚Üë
    –£–¥–∞–ª–µ–Ω: red (yellow –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª)
```

### 4. SISMEMBER - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞

```typescript
const exists = await redis.sismember('tags', 'red');
// –í–µ—Ä–Ω–µ—Ç: 1 (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏–ª–∏ 0 (–µ—Å–ª–∏ –Ω–µ—Ç)
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç–ª–µ–º–µ–Ω—Ç —á–ª–µ–Ω–æ–º –º–Ω–æ–∂–µ—Å—Ç–≤–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1, –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, 0 - –µ—Å–ª–∏ –Ω–µ—Ç
- –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è (O(1))

**–ü—Ä–∏–º–µ—Ä:**
```typescript
await redis.sadd('tags', 'red', 'blue');

const hasRed = await redis.sismember('tags', 'red');
console.log(hasRed); // 1 (–µ—Å—Ç—å)

const hasYellow = await redis.sismember('tags', 'yellow');
console.log(hasYellow); // 0 (–Ω–µ—Ç)
```

**–í–∏–∑—É–∞–ª—å–Ω–æ:**
```
–ú–Ω–æ–∂–µ—Å—Ç–≤–æ: {'red', 'blue', 'green'}

SISMEMBER('red')    ‚Üí 1 (–µ—Å—Ç—å)
SISMEMBER('yellow') ‚Üí 0 (–Ω–µ—Ç)
```

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –¢–µ–≥–∏ –¥–ª—è —Å—Ç–∞—Ç–µ–π

```typescript
// –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–≥–∏ –∫ —Å—Ç–∞—Ç—å–µ
await redis.sadd('article:1:tags', 'javascript', 'redis', 'tutorial');
await redis.sadd('article:2:tags', 'javascript', 'nodejs', 'tutorial');

// –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Ç–µ–≥–∏ —Å—Ç–∞—Ç—å–∏
const article1Tags = await redis.smembers('article:1:tags');
console.log(article1Tags); // ['javascript', 'redis', 'tutorial']

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ç–µ–≥
const hasRedis = await redis.sismember('article:1:tags', 'redis');
if (hasRedis) {
  console.log('–°—Ç–∞—Ç—å—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–≥ redis');
}

// –£–¥–∞–ª—è–µ–º —Ç–µ–≥
await redis.srem('article:1:tags', 'tutorial');
```

### –ü—Ä–∏–º–µ—Ä 2: –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏

```typescript
// –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
async function trackVisitor(pageId: string, userId: string) {
  // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π
  const isNew = await redis.sadd(`page:${pageId}:visitors`, userId);
  
  if (isNew === 1) {
    console.log(`–ù–æ–≤—ã–π –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å: ${userId}`);
  } else {
    console.log(`–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å: ${userId}`);
  }
}

// –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ—Ö —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π
async function getUniqueVisitors(pageId: string) {
  return await redis.smembers(`page:${pageId}:visitors`);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
await trackVisitor('home', 'user123');
await trackVisitor('home', 'user456');
await trackVisitor('home', 'user123'); // –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–∏–∑–∏—Ç

const visitors = await getUniqueVisitors('home');
console.log(visitors); // ['user123', 'user456'] (—Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ)
```

### –ü—Ä–∏–º–µ—Ä 3: –ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```typescript
class BlacklistService {
  constructor(private redis: RedisService) {}

  // –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫
  async banUser(userId: string) {
    await this.redis.sadd('blacklist', userId);
  }

  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–±–∞–Ω–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  async isBanned(userId: string): Promise<boolean> {
    const result = await redis.sismember('blacklist', userId);
    return result === 1;
  }

  // –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —á–µ—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
  async unbanUser(userId: string) {
    await this.redis.srem('blacklist', userId);
  }

  // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –∑–∞–±–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  async getAllBanned(): Promise<string[]> {
    return await this.redis.smembers('blacklist');
  }
}
```

### –ü—Ä–∏–º–µ—Ä 4: –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```typescript
// –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
await redis.sadd('user:1:favorites', 'product:123');
await redis.sadd('user:1:favorites', 'product:456');

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ç–æ–≤–∞—Ä –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º
const isFavorite = await redis.sismember('user:1:favorites', 'product:123');
if (isFavorite) {
  console.log('–¢–æ–≤–∞—Ä –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º');
}

// –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –∏–∑–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
const favorites = await redis.smembers('user:1:favorites');
console.log(favorites); // ['product:123', 'product:456']

// –£–¥–∞–ª—è–µ–º –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
await redis.srem('user:1:favorites', 'product:123');
```

### –ü—Ä–∏–º–µ—Ä 5: –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ IP –∞–¥—Ä–µ—Å–∞

```typescript
// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö IP –∞–¥—Ä–µ—Å–æ–≤
async function logIP(ip: string) {
  const isNew = await redis.sadd('unique:ips', ip);
  if (isNew === 1) {
    console.log(`–ù–æ–≤—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π IP: ${ip}`);
  }
}

// –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ IP
async function getUniqueIPs(): Promise<string[]> {
  return await redis.smembers('unique:ips');
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
await logIP('192.168.1.1');
await logIP('192.168.1.2');
await logIP('192.168.1.1'); // –ü–æ–≤—Ç–æ—Ä–Ω—ã–π IP (–Ω–µ –¥–æ–±–∞–≤–∏—Ç—Å—è)

const uniqueIPs = await getUniqueIPs();
console.log(uniqueIPs); // ['192.168.1.1', '192.168.1.2']
```

## –û–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –Ω–∞—à–µ–º —Å–µ—Ä–≤–∏—Å–µ, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ Redis)

### –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤ (SUNION)

```typescript
// –í Redis (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –Ω–∞—à–µ–º —Å–µ—Ä–≤–∏—Å–µ):
// SUNION set1 set2 ‚Üí –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–≤–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞
// –ü—Ä–∏–º–µ—Ä:
// set1: {'a', 'b', 'c'}
// set2: {'c', 'd', 'e'}
// SUNION ‚Üí {'a', 'b', 'c', 'd', 'e'}
```

### –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤ (SINTER)

```typescript
// –í Redis (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –Ω–∞—à–µ–º —Å–µ—Ä–≤–∏—Å–µ):
// SINTER set1 set2 ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç –æ–±—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
// –ü—Ä–∏–º–µ—Ä:
// set1: {'a', 'b', 'c'}
// set2: {'b', 'c', 'd'}
// SINTER ‚Üí {'b', 'c'}
```

### –†–∞–∑–Ω–æ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤ (SDIFF)

```typescript
// –í Redis (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –Ω–∞—à–µ–º —Å–µ—Ä–≤–∏—Å–µ):
// SDIFF set1 set2 ‚Üí —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ set1, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ set2
// –ü—Ä–∏–º–µ—Ä:
// set1: {'a', 'b', 'c'}
// set2: {'b', 'c', 'd'}
// SDIFF ‚Üí {'a'}
```

### –î—Ä—É–≥–∏–µ –ø–æ–ª–µ–∑–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

- `SCARD` - –ø–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ (–∞–Ω–∞–ª–æ–≥ LLEN –¥–ª—è —Å–ø–∏—Å–∫–æ–≤)
- `SPOP` - –ø–æ–ª—É—á–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
- `SRANDMEMBER` - –ø–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç (–±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è)
- `SMOVE` - –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –æ–¥–Ω–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –≤ –¥—Ä—É–≥–æ–µ

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

### Set vs List (–°–ø–∏—Å–æ–∫)

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Set (–ú–Ω–æ–∂–µ—Å—Ç–≤–æ) | List (–°–ø–∏—Å–æ–∫) |
|----------------|-----------------|---------------|
| –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å | ‚úÖ –î–∞ (–¥—É–±–ª–∏–∫–∞—Ç—ã –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã) | ‚ùå –ù–µ—Ç (–¥—É–±–ª–∏–∫–∞—Ç—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã) |
| –ü–æ—Ä—è–¥–æ–∫ | ‚ùå –ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω | ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è |
| –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–∞ | ‚úÖ O(1) - –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ | ‚ùå O(N) - –º–µ–¥–ª–µ–Ω–Ω–æ |
| –î–æ–±–∞–≤–ª–µ–Ω–∏–µ | ‚úÖ O(1) | ‚úÖ O(1) |
| –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö | ‚úÖ SMEMBERS | ‚úÖ LRANGE |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | –¢–µ–≥–∏, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID, —á–µ—Ä–Ω—ã–µ —Å–ø–∏—Å–∫–∏ | –û—á–µ—Ä–µ–¥–∏, —Å—Ç–µ–∫–∏, –∏—Å—Ç–æ—Ä–∏—è |

### Set vs Hash (–•–µ—à)

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Set (–ú–Ω–æ–∂–µ—Å—Ç–≤–æ) | Hash (–•–µ—à) |
|----------------|-----------------|------------|
| –°—Ç—Ä—É–∫—Ç—É—Ä–∞ | –ö–æ–ª–ª–µ–∫—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π | –ü–æ–ª—è-–∑–Ω–∞—á–µ–Ω–∏—è |
| –ü–æ–∏—Å–∫ | ‚úÖ O(1) - –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é | ‚úÖ O(1) - –ø–æ –ø–æ–ª—é |
| –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å | ‚úÖ –ó–Ω–∞—á–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã | ‚úÖ –ü–æ–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | –¢–µ–≥–∏, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ | –û–±—ä–µ–∫—Ç—ã, –ø—Ä–æ—Ñ–∏–ª–∏ |

## –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –¢–µ–≥–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

```typescript
// –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–≥–∏ –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É
await redis.sadd('article:1:tags', 'tech', 'programming', 'redis');

// –ù–∞—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—å–∏ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º —Ç–µ–≥–æ–º (—Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏)
// –û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å:
await redis.sadd('tag:tech:articles', 'article:1', 'article:2');
await redis.sadd('tag:programming:articles', 'article:1', 'article:3');
```

### 2. –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã

```typescript
// –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
await redis.sadd('unique:users', 'user:1', 'user:2', 'user:1');
// –†–µ–∑—É–ª—å—Ç–∞—Ç: {'user:1', 'user:2'} (–¥—É–±–ª–∏–∫–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–µ–Ω)
```

### 3. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏

```typescript
// –ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫
await redis.sadd('blacklist', 'user:123', 'user:456');

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º
const isBanned = await redis.sismember('blacklist', userId);
if (isBanned) {
  throw new Error('User is banned');
}
```

### 4. –°—á–µ—Ç—á–∏–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

```typescript
// –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã
await redis.sadd('page:views:unique', userId);
const uniqueViews = await redis.smembers('page:views:unique');
const count = uniqueViews.length;
```

## –í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º–Ω–æ–∂–µ—Å—Ç–≤:
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- **–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∑–∞ O(1)
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏** - —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- **–û–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏** - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ, –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ, —Ä–∞–∑–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –ü–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- –ù–µ–ª—å–∑—è –ø–æ–ª—É—á–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É
- –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞–º–∏

### üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–∞:
- –¢–µ–≥–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
- –ß–µ—Ä–Ω—ã–µ/–±–µ–ª—ã–µ —Å–ø–∏—Å–∫–∏
- –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏/—Å–æ–±—ã—Ç–∏—è
- –õ—é–±—ã–µ —Å–ª—É—á–∞–∏, –≥–¥–µ –≤–∞–∂–Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å

### ‚ùå –ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–∞:
- –ù—É–∂–µ–Ω –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ List)
- –ù—É–∂–Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Sorted Set)
- –ù—É–∂–Ω—ã —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Hash)
- –ù—É–∂–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ List)

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–ø—Ä–∏–º–µ—Ä—ã)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –Ω–∞—à–µ–º —Å–µ—Ä–≤–∏—Å–µ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –∫–ª–∏–µ–Ω—Ç—É:

```typescript
// –ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
async scard(key: string): Promise<number> {
  return this.redisClient.scard(key);
}

// –ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
async spop(key: string): Promise<string | null> {
  return this.redisClient.spop(key);
}

// –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤
async sunion(...keys: string[]): Promise<string[]> {
  return this.redisClient.sunion(...keys);
}

// –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤
async sinter(...keys: string[]): Promise<string[]> {
  return this.redisClient.sinter(...keys);
}
```

## –ò—Ç–æ–≥

**–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –≤ Redis** - —ç—Ç–æ –Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–æ–∫, –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–∞—è –¥–ª—è:
- –¢–µ–≥–æ–≤ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
- –ß–µ—Ä–Ω—ã—Ö/–±–µ–ª—ã—Ö —Å–ø–∏—Å–∫–æ–≤
- –ò–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- –õ—é–±—ã—Ö —Å–ª—É—á–∞–µ–≤, –≥–¥–µ –≤–∞–∂–Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫

–ú–Ω–æ–∂–µ—Å—Ç–≤–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –∫ –º–Ω–æ–∂–µ—Å—Ç–≤—É.

